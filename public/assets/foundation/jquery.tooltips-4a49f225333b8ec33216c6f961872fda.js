/*
 * jQuery Foundation Tooltip Plugin 1.0
 * http://foundation.zurb.com
 * Copyright 2012, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/
(function(a){var b={bodyHeight:0,pollInterval:1e3},c={init:function(d){return this.each(function(){var d=a(".has-tip"),e=a(".tooltip"),f=function(a,b){return'<span data-id="'+a+'" class="tooltip">'+b+'<span class="nub"></span></span>'},g=setInterval(c.isDomResized,b.pollInterval);e.length<1&&d.each(function(b){var d=a(this),e="foundationTooltip"+b,g=d.attr("title"),h=d.attr("class");d.data("id",e);var i=a(f(e,g));i.addClass(h).removeClass("has-tip").appendTo("body"),Modernizr.touch&&i.append('<span class="tap-to-close">tap to close </span>'),c.reposition(d,i,h),i.fadeOut(150)}),a(window).resize(function(){var b=a(".tooltip");b.each(function(){var b=a(this).data();target=d=a(".has-tip"),tip=a(this),classes=tip.attr("class"),d.each(function(){a(this).data().id==b.id?target=a(this):target=target}),c.reposition(target,tip,classes)})}),Modernizr.touch?(a(".tooltip").live("click touchstart touchend",function(b){b.preventDefault(),a(this).fadeOut(150)}),d.live("click touchstart touchend",function(b){b.preventDefault(),a(".tooltip").hide(),a("span[data-id="+a(this).data("id")+"].tooltip").fadeIn(150),d.attr("title","")})):d.hover(function(){a("span[data-id="+a(this).data("id")+"].tooltip").fadeIn(150),d.attr("title","")},function(){a("span[data-id="+a(this).data("id")+"].tooltip").fadeOut(150)})})},reposition:function(b,c,d){function i(a,b,c,d,e){a.css({top:b,bottom:d,left:e,right:c})}var e=b.data("width"),f=c.children(".nub"),g=f.outerHeight(),h=f.outerWidth();c.css({top:b.offset().top+b.outerHeight()+10,left:b.offset().left,width:e}),i(f,-g,"auto","auto",10);if(a(window).width()<767){var j=b.parents(".row");c.width(j.outerWidth()-20).css("left",j.offset().left).addClass("tip-override"),i(f,-g,"auto","auto",b.offset().left)}else d.indexOf("tip-top")>-1?(c.css({top:b.offset().top-c.outerHeight()-g,left:b.offset().left,width:e}).removeClass("tip-override"),i(f,"auto","auto",-g,"auto")):d.indexOf("tip-left")>-1?(c.css({top:b.offset().top+b.outerHeight()/2-g,left:b.offset().left-c.outerWidth()-10,width:e}).removeClass("tip-override"),i(f,c.outerHeight()/2-g/2,-g,"auto","auto")):d.indexOf("tip-right")>-1&&(c.css({top:b.offset().top+b.outerHeight()/2-g,left:b.offset().left+b.outerWidth()+10,width:e}).removeClass("tip-override"),i(f,c.outerHeight()/2-g/2,"auto","auto",-g))},isDomResized:function(){$body=a("body"),b.bodyHeight!=$body.height()&&(b.bodyHeight=$body.height(),a(window).trigger("resize"))}};a.fn.tooltips=function(b){if(c[b])return c[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return c.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.tooltips")}})(jQuery);